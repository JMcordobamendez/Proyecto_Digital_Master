# Proyecto Osciloscopio
Los siguientes directorios contienen el código en VHDL para poder sintetizar diferentes circuitos digitales que logran superar los hitos de la asignatura **Proyectos Experimentales II**. El objetivo de la asignatura ha sido diseñar e implementar una tarjeta gráfica en una **FPGA** capaz de representar en una pantalla de televisión el conjunto de datos tomados por un **ADC** presente en un microcontrolador . 
## Hardware_1
El primer circuito digital se encarga de recibir los datos muestreados por el microcontrolador mediante protocolo UART, posteriormente una máquina de estados decodifica el mensaje recibido decidiendo el canal del **"osciloscopio"** al que pertenecen (canal 1 o canal 2) y procede a cargar los datos en un bloque RAM de 2 puertos (lectura y escritura) perteneciente al conjunto de **IP** proporcionados por el fabricante de la FPGA Xilinx. Con los datos cargados en la RAM un "Driver de VGA" se encarga de sincronizar los datos almacenados en ella con el monitor mediante un puerto VGA, a su vez un subsistema digital se encarga de realizar las correcciones oportunas a los datos para que aparezcan centrados en la pantalla.
## Hardware_2
Al circuito digital anterior se le han añadido 2 registros de 8 bits que almacenan la posición máxima y mínima de los datos muestreados para representarlos posteriormente. También se le ha añadido un eje vertical que aparecerá en la pantalla.
La máquina de estados que controla la escritura en la RAM de los datos recibidos por UART también se encargará de controlar el almacenamiento de los datos en los registros.
## Hardware_3 
Al circuito digital anterior se le ha añadido un generador digital de señales, para ello se ha añadido otro driver UART similar al anteriormente empleado que recibirá una instrucción (de una Raspberry PI) indicando la frecuencia a la que generar la señal. posteriormente un registro de 8 bits almacenará la instrucción recibida y un decodificador interpretará el mensaje. En el circuito se ha añadido una ROM con 1000 valores de un seno y 10 bits de resolución (empíricamente se ha comprobado que se genera el seno con muy buena resolución "SNR = 62 dB"). Para generar el seno hay un contador que se desplaza por las distintas posiciones de la memoria con un periodo dado, generando una señal modulada. La señal modulada puede variar su frecuencia variando el periodo al que se desplaza por la ROM, en la práctica el circuito es capaz de generar 10 frecuencias distintas por el método indicado [1-10] KHz. Posteriormente, la señal modulada es la referencia de un bloque generador de una señal PWM a 100 KHz (se ha desarrollado un filtro analógico externo a la **FPGA** que implementa un filtro **Butterworth** de orden 2 y una frecuencia de corte de 10KHz). 
